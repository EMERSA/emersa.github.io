<html>
    <head></head>
    <body>
        <form name="person">
            <input name="email">
            <input name="username">
            <input name="password">
          
          </form>
          <button id="sendMessage">
            Send Message
          </button>
  <script>
    // pre-fill FormData from the form
    
    let formData = new FormData(document.forms.person);
    let username1 = formData.username;
    let email1 = formData.email;
    let password = formData.password;
    // add one more field
    formData.append("middle", "Lee");
  
    // send it out
    let xhr = new XMLHttpRequest();
    xhr.open("POST", "https://membershipapi.onrender.com/api/auth/signup");
    xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
    let body = JSON.stringify({'username': `${username1}`, 'email': `${email1}`,'role':'user', 'password': `${password}`})
    document.getElementById('sendMessage').onclick = function(){
        var data = JSON.stringify({
  "email": email1,
  "password": password
});

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "http://localhost:8080/api/auth/signin");
xhr.setRequestHeader("content-type", "application/json");
xhr.setRequestHeader("cache-control", "no-cache");
xhr.setRequestHeader("postman-token", "4b7dd4ab-bcc3-1f38-ec7d-e1cbec9a14ce");

xhr.send(data);
    }
  </script>
  


  </body></html>